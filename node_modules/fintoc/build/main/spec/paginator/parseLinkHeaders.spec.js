"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const ava_1 = __importDefault(require("ava"));
const paginator_1 = require("../../lib/paginator");
const utils_1 = require("../shared/utils");
(0, ava_1.default)('"parseLinkHeaders" null header', (t) => {
    const parsed = (0, paginator_1.parseLinkHeaders)(null);
    t.assert(parsed === null);
});
(0, ava_1.default)('"parseLinkHeaders" undefined header', (t) => {
    const parsed = (0, paginator_1.parseLinkHeaders)(undefined);
    t.assert(parsed === undefined);
});
(0, ava_1.default)('"parseLinkHeaders" parse header', (t) => {
    const nextURL = 'https://api.fintoc.com/v1/links?page=2';
    const lastURL = 'https://api.fintoc.com/v1/links?page=13';
    const linkHeader = `<${nextURL}>; rel="next", <${lastURL}>; rel="last"`;
    const parsed = (0, paginator_1.parseLinkHeaders)(linkHeader);
    t.assert((0, utils_1.isDictLike)(parsed));
    t.assert('last' in parsed);
    t.assert('next' in parsed);
    t.assert(Object.keys(parsed).length === 2);
    t.assert(parsed.last === lastURL);
    t.assert(parsed.next === nextURL);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyc2VMaW5rSGVhZGVycy5zcGVjLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3NwZWMvcGFnaW5hdG9yL3BhcnNlTGlua0hlYWRlcnMuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDhDQUF1QjtBQUV2QixtREFBdUQ7QUFDdkQsMkNBQTZDO0FBRTdDLElBQUEsYUFBSSxFQUFDLGdDQUFnQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7SUFDM0MsTUFBTSxNQUFNLEdBQUcsSUFBQSw0QkFBZ0IsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUN0QyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsQ0FBQztBQUM1QixDQUFDLENBQUMsQ0FBQztBQUVILElBQUEsYUFBSSxFQUFDLHFDQUFxQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7SUFDaEQsTUFBTSxNQUFNLEdBQUcsSUFBQSw0QkFBZ0IsRUFBQyxTQUFTLENBQUMsQ0FBQztJQUMzQyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxTQUFTLENBQUMsQ0FBQztBQUNqQyxDQUFDLENBQUMsQ0FBQztBQUVILElBQUEsYUFBSSxFQUFDLGlDQUFpQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7SUFDNUMsTUFBTSxPQUFPLEdBQUcsd0NBQXdDLENBQUM7SUFDekQsTUFBTSxPQUFPLEdBQUcseUNBQXlDLENBQUM7SUFDMUQsTUFBTSxVQUFVLEdBQUcsSUFBSSxPQUFPLG1CQUFtQixPQUFPLGVBQWUsQ0FBQztJQUN4RSxNQUFNLE1BQU0sR0FBRyxJQUFBLDRCQUFnQixFQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzVDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBQSxrQkFBVSxFQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDN0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLENBQUM7SUFDM0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLENBQUM7SUFDM0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQztJQUMzQyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssT0FBTyxDQUFDLENBQUM7SUFDbEMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLE9BQU8sQ0FBQyxDQUFDO0FBQ3BDLENBQUMsQ0FBQyxDQUFDIn0=